<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>嘉義旅程雙重奏 | Chiayi Vibe Travel</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #0f172a; /* Slate 900 */
            color: #f8fafc;
            overflow-x: hidden;
            margin: 0;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1e293b;
        }
        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }

        .glass-panel {
            background: rgba(15, 23, 42, 0.6);
            backdrop-filter: blur(16px);
            -webkit-backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .glass-card {
            background: rgba(30, 41, 59, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s ease;
        }
        
        .glass-card:hover {
            background: rgba(30, 41, 59, 0.6);
            border-color: rgba(56, 189, 248, 0.3);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
        }

        /* Animations */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Option Card Specifics */
        .option-card {
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .option-card:hover {
            transform: scale(1.02);
        }
        .option-card.active {
            border-color: #38bdf8;
            background: rgba(56, 189, 248, 0.1);
        }

        .timeline-connector {
            background: linear-gradient(to bottom, transparent, #38bdf8, transparent);
        }
    </style>
</head>
<body>

<div id="root"></div>

<script type="text/babel">
    const { useState, useEffect, useRef } = React;

    // --- DATA: Plan A & Plan B ---
    const itineraries = {
        A: {
            id: 'A',
            title: "方案 A：山林森呼吸與文青漫遊",
            tagline: "深呼吸，感受木都的靜謐",
            color: "from-emerald-400 to-cyan-500",
            icon: "tree-pine",
            days: [
                {
                    day: 1,
                    title: "檜意生活與潭邊夕照",
                    events: [
                        { time: "09:30", title: "高雄出發", location: "高雄市", icon: "car", desc: "快樂出發，沿途欣賞國道風光。" },
                        { time: "11:00", title: "檜意森活村", location: "檜意森活村", icon: "home", desc: "感受全台最大日式宿舍群，品嚐森坂及冰淇淋。" },
                        { time: "12:30", title: "午餐：林聰明沙鍋魚頭", location: "林聰明沙鍋魚頭", icon: "utensils", desc: "嘉義必吃！(備案：劉里長雞肉飯)。" },
                        { time: "14:30", title: "嘉義市立美術館 & 昭和十八", location: "嘉義市立美術館", icon: "camera", desc: "新舊融合建築美學，參訪最美神社咖啡廳。" },
                        { time: "16:00", title: "Check-in 繪日之丘", location: "天成文旅-繪日之丘", icon: "bed", desc: "享受親子設施與飯店下午茶。" },
                        { time: "18:30", title: "晚餐：文化路夜市", location: "嘉義文化路夜市", icon: "moon", desc: "御香屋葡萄柚綠茶(建議預訂)、郭家雞肉飯。" }
                    ]
                },
                {
                    day: 2,
                    title: "雲端漫步與鐵道便當",
                    events: [
                        { time: "07:30", title: "飯店出發 (攻頂阿里山)", location: "天成文旅-繪日之丘", icon: "mountain", desc: "早起出發，避開午後濃霧與車潮。" },
                        { time: "09:30", title: "阿里山國家森林遊樂區", location: "阿里山國家森林遊樂區", icon: "tree-pine", desc: "搭乘小火車(沼平線)，漫步巨木群棧道。" },
                        { time: "13:00", title: "前往奮起湖", location: "奮起湖", icon: "car", desc: "沿台18線下山，車程約1小時。" },
                        { time: "14:00", title: "奮起湖老街 & 鐵路便當", location: "奮起湖老街", icon: "utensils", desc: "品嚐鐵路便當、百年檜木甜甜圈、愛玉。" },
                        { time: "17:00", title: "返回嘉義市區", location: "嘉義市", icon: "car", desc: "欣賞沿途茶園風光。" },
                        { time: "18:30", title: "晚餐：飯店周邊或市區", location: "大雅路商圈", icon: "utensils", desc: "大雅路特色餐廳或飯店內休息。" }
                    ]
                },
                {
                    day: 3,
                    title: "民雄探險與滿載而歸",
                    events: [
                        { time: "09:00", title: "享受飯店設施", location: "天成文旅-繪日之丘", icon: "coffee", desc: "悠閒早餐，使用飯店設施。" },
                        { time: "11:00", title: "Check-out & 前往民雄", location: "民雄", icon: "car", desc: "前往嘉義縣民雄鄉。" },
                        { time: "11:30", title: "旺萊山鳳梨文化園區", location: "旺萊山鳳梨文化園區", icon: "sun", desc: "免費試吃鳳梨酥，參觀觀光工廠。" },
                        { time: "12:30", title: "午餐：正宗民雄鵝肉亭", location: "正宗民雄鵝肉亭", icon: "utensils", desc: "份量十足的鮮嫩鵝肉。" },
                        { time: "14:00", title: "故宮南院 (戶外漫步)", location: "國立故宮博物院南部院區", icon: "camera", desc: "欣賞至美橋與波波草景觀。" },
                        { time: "15:30", title: "返程高雄", location: "高雄市", icon: "home", desc: "帶著滿滿回憶回家。" }
                    ]
                }
            ]
        },
        B: {
            id: 'B',
            title: "方案 B：嘉義山海與城市漫遊",
            tagline: "山海連線，從故宮南院到雲端",
            color: "from-blue-400 to-indigo-500",
            icon: "map",
            days: [
                {
                    day: 1,
                    title: "城市美學與林業文化",
                    events: [
                        { time: "09:00", title: "高雄出發", location: "高雄市", icon: "car", desc: "走國道1號，車程約1.5小時。" },
                        { time: "10:30", title: "檜意森活村", location: "檜意森活村", icon: "home", desc: "漫步日式建築群，感受檜木香氣。" },
                        { time: "12:30", title: "午餐：林聰明沙鍋魚頭", location: "林聰明沙鍋魚頭", icon: "utensils", desc: "嘉義指標性美食，或阿宏師火雞肉飯。" },
                        { time: "14:30", title: "嘉義美術館 & 昭和十八", location: "嘉義市立美術館", icon: "camera", desc: "舊菸酒公賣局改建的美術館，昭和J18神社咖啡。" },
                        { time: "16:00", title: "Check-in 繪日之丘", location: "天成文旅-繪日之丘", icon: "bed", desc: "享用大廳免費古早味零食。" },
                        { time: "18:00", title: "晚餐：文化路夜市", location: "嘉義文化路夜市", icon: "moon", desc: "阿峨豆花、源興御香屋。" }
                    ]
                },
                {
                    day: 2,
                    title: "阿里山雲霧與鐵道便當",
                    events: [
                        { time: "07:00", title: "準時出發", location: "天成文旅-繪日之丘", icon: "alarm-clock", desc: "早餐車上吃或簡單吃，避免山區午後濃霧。" },
                        { time: "09:30", title: "阿里山國家森林遊樂區", location: "阿里山國家森林遊樂區", icon: "tree-pine", desc: "阿里山小火車、姊妹潭、神木群棧道。" },
                        { time: "13:00", title: "離開阿里山", location: "台18線", icon: "car", desc: "前往奮起湖，車程約1小時。" },
                        { time: "14:00", title: "奮起湖老街 & 午餐", location: "奮起湖老街", icon: "utensils", desc: "鐵路便當、百年檜木甜甜圈、肖楠母樹林步道。" },
                        { time: "16:00", title: "返程嘉義市區", location: "嘉義市", icon: "car", desc: "下山車程約1.5小時，請開霧燈。" },
                        { time: "18:00", title: "晚餐：竹居茶樓 或 盛食咖哩", location: "竹居茶樓", icon: "utensils", desc: "江南庭園風港點 或 人氣印度咖哩。" }
                    ]
                },
                {
                    day: 3,
                    title: "民雄風情與故宮南院",
                    events: [
                        { time: "09:30", title: "飯店早餐 & Check-out", location: "天成文旅-繪日之丘", icon: "coffee", desc: "睡飽一點，悠閒享受早餐。" },
                        { time: "10:30", title: "旺萊山 或 金桔觀光工廠", location: "旺萊山鳳梨文化園區", icon: "sun", desc: "民雄特色伴手禮巡禮。" },
                        { time: "12:00", title: "午餐：正宗民雄鵝肉亭", location: "正宗民雄鵝肉亭", icon: "utensils", desc: "就在火車站旁，CP值極高。" },
                        { time: "13:30", title: "故宮南院", location: "國立故宮博物院南部院區", icon: "camera", desc: "戶外景觀園區散步，波波草拍照。" },
                        { time: "15:30", title: "蒜頭糖廠 (選配)", location: "蒜頭糖廠", icon: "train", desc: "若時間充裕可搭乘五分車。" },
                        { time: "16:30", title: "啟程回高雄", location: "高雄市", icon: "home", desc: "走國道1號，預計18:00前抵達。" }
                    ]
                }
            ]
        }
    };

    // --- Components ---

    const Icon = ({ name, className }) => {
        useEffect(() => {
            if (window.lucide) window.lucide.createIcons();
        }, [name]);
        return <i data-lucide={name} className={className}></i>;
    };

    const MapButton = ({ location }) => {
        const url = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(location)}`;
        return (
            <a 
                href={url} 
                target="_blank" 
                rel="noopener noreferrer"
                className="inline-flex items-center justify-center w-8 h-8 md:w-auto md:h-auto md:px-3 md:py-1.5 text-xs font-medium text-white transition-all duration-300 rounded-full bg-blue-500/80 hover:bg-blue-500 hover:shadow-[0_0_15px_rgba(59,130,246,0.5)] border border-blue-400/30 group ml-auto shrink-0"
                title="Google Map 導航"
            >
                <i data-lucide="map-pin" className="w-4 h-4 md:mr-1.5"></i>
                <span className="hidden md:inline">導航</span>
            </a>
        );
    };

    const BackgroundCanvas = () => {
        const canvasRef = useRef(null);

        useEffect(() => {
            const canvas = canvasRef.current;
            const ctx = canvas.getContext('2d');
            let animationId;

            const resize = () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            };
            window.addEventListener('resize', resize);
            resize();

            const particles = Array.from({ length: 50 }, () => ({
                x: Math.random() * canvas.width,
                y: Math.random() * canvas.height,
                radius: Math.random() * 2 + 1,
                speedX: Math.random() * 0.5 - 0.25,
                speedY: Math.random() * 0.5 - 0.25,
                opacity: Math.random() * 0.5 + 0.2
            }));

            const draw = () => {
                ctx.fillStyle = '#0f172a';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                particles.forEach(p => {
                    ctx.beginPath();
                    ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fillStyle = `rgba(148, 163, 184, ${p.opacity})`;
                    ctx.fill();

                    p.x += p.speedX;
                    p.y += p.speedY;

                    if (p.x < 0 || p.x > canvas.width) p.speedX *= -1;
                    if (p.y < 0 || p.y > canvas.height) p.speedY *= -1;
                });

                animationId = requestAnimationFrame(draw);
            };
            draw();

            return () => {
                window.removeEventListener('resize', resize);
                cancelAnimationFrame(animationId);
            };
        }, []);

        return <canvas ref={canvasRef} className="fixed top-0 left-0 w-full h-full -z-10 pointer-events-none" />;
    };

    const ItineraryView = ({ plan, goBack }) => {
        const [activeDay, setActiveDay] = useState(0);

        return (
            <div className="min-h-screen pb-20 fade-in">
                {/* Header */}
                <div className="sticky top-0 z-50 bg-slate-900/80 backdrop-blur-md border-b border-white/10">
                    <div className="max-w-3xl mx-auto px-4 py-4 flex items-center justify-between">
                        <button 
                            onClick={goBack}
                            className="flex items-center text-slate-400 hover:text-white transition-colors"
                        >
                            <Icon name="arrow-left" className="w-5 h-5 mr-2" />
                            <span className="hidden sm:inline">返回選擇</span>
                        </button>
                        <h2 className={`text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r ${plan.color}`}>
                            {plan.title}
                        </h2>
                        <div className="w-8"></div> {/* Spacer */}
                    </div>
                    
                    {/* Day Tabs */}
                    <div className="flex justify-center gap-2 p-2 max-w-3xl mx-auto">
                        {plan.days.map((day, idx) => (
                            <button
                                key={idx}
                                onClick={() => setActiveDay(idx)}
                                className={`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all duration-300 ${
                                    activeDay === idx 
                                    ? 'bg-white/10 text-white shadow-[0_0_15px_rgba(255,255,255,0.1)] border border-white/20' 
                                    : 'text-slate-500 hover:text-slate-300 hover:bg-white/5'
                                }`}
                            >
                                Day {day.day}
                            </button>
                        ))}
                    </div>
                </div>

                {/* Content */}
                <div className="max-w-2xl mx-auto px-6 mt-8">
                    <div className="mb-8 text-center">
                        <h3 className="text-2xl font-bold text-white mb-2">{plan.days[activeDay].title}</h3>
                        <p className="text-slate-400 text-sm">行程重點 · {plan.id === 'A' ? '休閒與美食' : '豐富與探索'}</p>
                    </div>

                    <div className="relative border-l-2 border-slate-700/50 ml-3 md:ml-0 md:border-l-0">
                        {plan.days[activeDay].events.map((event, idx) => (
                            <div key={idx} className="mb-8 relative pl-8 md:pl-0 md:flex md:gap-6 group" style={{animationDelay: `${idx * 100}ms`}}>
                                
                                {/* Timeline Dot (Mobile) */}
                                <div className="absolute left-[-5px] top-4 w-3 h-3 rounded-full bg-slate-600 border-2 border-slate-900 md:hidden group-hover:bg-blue-400 transition-colors"></div>

                                {/* Time (Desktop) */}
                                <div className="hidden md:block w-24 text-right pt-4 shrink-0">
                                    <span className="text-lg font-bold text-slate-300 font-mono block">{event.time}</span>
                                </div>

                                {/* Card */}
                                <div className="glass-card rounded-xl p-5 flex-1 hover:border-blue-500/30 transition-all duration-300">
                                    <div className="flex items-start justify-between gap-4 mb-2">
                                        <div className="flex items-center gap-3">
                                            <div className="md:hidden text-xs font-mono bg-slate-800 px-2 py-1 rounded text-slate-300 border border-slate-700">
                                                {event.time}
                                            </div>
                                            <h4 className="text-lg font-bold text-white">{event.title}</h4>
                                        </div>
                                        <MapButton location={event.location} />
                                    </div>
                                    
                                    <div className="flex items-center gap-2 text-slate-400 text-sm mb-3">
                                        <Icon name={event.icon} className="w-4 h-4" />
                                        <span>{event.location}</span>
                                    </div>
                                    
                                    <p className="text-slate-300 text-sm leading-relaxed border-t border-white/5 pt-3">
                                        {event.desc}
                                    </p>
                                </div>
                            </div>
                        ))}
                    </div>

                    <div className="mt-12 p-4 rounded-lg bg-blue-500/10 border border-blue-500/20 text-center text-sm text-blue-200">
                        <Icon name="info" className="w-4 h-4 inline mr-2 align-text-bottom" />
                        {activeDay === 1 ? '阿里山山區氣溫較低，請務必攜帶保暖外套。' : '市區景點人潮眾多，建議預留交通時間。'}
                    </div>
                </div>
            </div>
        );
    };

    const LandingPage = ({ onSelect }) => {
        return (
            <div className="min-h-screen flex flex-col items-center justify-center p-6 relative z-10">
                <div className="text-center mb-12 animate-float">
                    <h1 className="text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-300 via-blue-300 to-purple-300 mb-4 tracking-tight">
                        Chiayi Vibe
                    </h1>
                    <p className="text-slate-400 text-lg">選擇您的旅程節奏</p>
                </div>

                <div className="grid md:grid-cols-2 gap-8 max-w-5xl w-full">
                    {/* Option A Card */}
                    <div 
                        onClick={() => onSelect('A')}
                        className="glass-panel rounded-2xl p-8 hover:bg-slate-800/50 cursor-pointer group transition-all duration-500 border-t-4 border-emerald-500/50 hover:border-emerald-400 relative overflow-hidden"
                    >
                        <div className="absolute top-0 right-0 w-32 h-32 bg-emerald-500/10 rounded-full blur-3xl -mr-16 -mt-16 group-hover:bg-emerald-500/20 transition-all"></div>
                        <div className="flex items-center justify-between mb-6">
                            <span className="text-emerald-400 font-mono text-sm tracking-wider border border-emerald-500/30 px-3 py-1 rounded-full">PLAN A</span>
                            <Icon name="tree-deciduous" className="w-8 h-8 text-emerald-300 group-hover:scale-110 transition-transform" />
                        </div>
                        <h2 className="text-3xl font-bold text-white mb-2 group-hover:text-emerald-200 transition-colors">
                            山林森呼吸
                        </h2>
                        <h3 className="text-xl text-slate-300 mb-4">文青漫遊之旅</h3>
                        <p className="text-slate-400 text-sm leading-relaxed mb-6">
                            專注於「繪日之丘」周邊與阿里山的深度連結。適合喜歡悠閒步調、日式氛圍與文青景點的旅人。
                        </p>
                        <div className="flex gap-2 text-xs text-slate-500 font-mono">
                            <span className="bg-slate-900/50 px-2 py-1 rounded">森活村</span>
                            <span className="bg-slate-900/50 px-2 py-1 rounded">美術館</span>
                            <span className="bg-slate-900/50 px-2 py-1 rounded">阿里山</span>
                        </div>
                    </div>

                    {/* Option B Card */}
                    <div 
                        onClick={() => onSelect('B')}
                        className="glass-panel rounded-2xl p-8 hover:bg-slate-800/50 cursor-pointer group transition-all duration-500 border-t-4 border-blue-500/50 hover:border-blue-400 relative overflow-hidden"
                    >
                        <div className="absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl -mr-16 -mt-16 group-hover:bg-blue-500/20 transition-all"></div>
                        <div className="flex items-center justify-between mb-6">
                            <span className="text-blue-400 font-mono text-sm tracking-wider border border-blue-500/30 px-3 py-1 rounded-full">PLAN B</span>
                            <Icon name="mountain-snow" className="w-8 h-8 text-blue-300 group-hover:scale-110 transition-transform" />
                        </div>
                        <h2 className="text-3xl font-bold text-white mb-2 group-hover:text-blue-200 transition-colors">
                            山海城市漫遊
                        </h2>
                        <h3 className="text-xl text-slate-300 mb-4">全方位探索之旅</h3>
                        <p className="text-slate-400 text-sm leading-relaxed mb-6">
                            從高山的阿里山雲海到平原的故宮南院。行程涵蓋範圍廣，適合精力充沛、想要一次玩遍嘉義精華的旅人。
                        </p>
                        <div className="flex gap-2 text-xs text-slate-500 font-mono">
                            <span className="bg-slate-900/50 px-2 py-1 rounded">故宮南院</span>
                            <span className="bg-slate-900/50 px-2 py-1 rounded">奮起湖</span>
                            <span className="bg-slate-900/50 px-2 py-1 rounded">民雄</span>
                        </div>
                    </div>
                </div>
            </div>
        );
    };

    const App = () => {
        const [selectedPlan, setSelectedPlan] = useState(null);

        return (
            <div className="relative w-full min-h-screen text-slate-200">
                <BackgroundCanvas />
                
                {selectedPlan ? (
                    <ItineraryView 
                        plan={itineraries[selectedPlan]} 
                        goBack={() => setSelectedPlan(null)} 
                    />
                ) : (
                    <LandingPage onSelect={setSelectedPlan} />
                )}
            </div>
        );
    };

    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
</script>
</body>
</html>